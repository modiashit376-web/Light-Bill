import csv

print("\nЁЯПа рдШрд░рднрд╛рдбреЗрдХрд░реВрдВрд╕рд╛рдареА рд╡реАрдЬ рдмрд┐рд▓ рдХреЕрд▓реНрдХреНрдпреБрд▓реЗрдЯрд░ ЁЯТб")
print("--------------------------------------------------")

# ---- рдкрд╛рдпрд░реА рез: рдореБрдЦреНрдп рдореАрдЯрд░рдЪреА рдорд╛рд╣рд┐рддреА ----
main_prev = int(input("рдореБрдЦреНрдп рдореАрдЯрд░рдЪреА рдЬреБрдиреА рд░реАрдбрд┐рдВрдЧ рдЯрд╛рдХрд╛: "))
main_curr = int(input("рдореБрдЦреНрдп рдореАрдЯрд░рдЪреА рдирд╡реАрди рд░реАрдбрд┐рдВрдЧ рдЯрд╛рдХрд╛: "))
total_bill = int(input("рдпрд╛ рдорд╣рд┐рдиреНрдпрд╛рдЪреЗ рдПрдХреВрдг рдмрд┐рд▓ (тВ╣): "))

main_units = main_curr - main_prev
print(f"\nрдореБрдЦреНрдп рдореАрдЯрд░рдЪреНрдпрд╛ рдПрдХреВрдг рдпреБрдирд┐рдЯ: {main_curr} - {main_prev} = {main_units} рдпреБрдирд┐рдЯ")

# ---- рдкрд╛рдпрд░реА реи: рдкреНрд░рддреА рдпреБрдирд┐рдЯ рджрд░ (рдлреНрд▓реЛрдЕрд░ рд╡реНрд╣реЕрд▓реНрдпреВ) ----
unit_value = int(total_bill / main_units)
print(f"рдпрд╛ рдорд╣рд┐рдиреНрдпрд╛рдЪрд╛ рдкреНрд░рддреА рдпреБрдирд┐рдЯ рджрд░: тВ╣{total_bill} ├╖ {main_units} = тВ╣{unit_value} (рдлреНрд▓реЛрдЕрд░ рд╡реНрд╣реЕрд▓реНрдпреВ)\n")

# ---- рдкрд╛рдпрд░реА рей: рднрд╛рдбреЗрдХрд░реВ рез - рдпреЛрдЧрд┐рддрд╛ рдЪреМрд╡реНрд╣рд╛рдг ----
print("рднрд╛рдбреЗрдХрд░реВ резя╕ПтГг - рдпреЛрдЧрд┐рддрд╛ рдЪреМрд╡реНрд╣рд╛рдг")
a_prev = int(input("рдЬреБрдиреА рд░реАрдбрд┐рдВрдЧ: "))
a_curr = int(input("рдирд╡реАрди рд░реАрдбрд┐рдВрдЧ: "))
a_units = a_curr - a_prev
a_amount = a_units * unit_value
print(f"рдпреЛрдЧрд┐рддрд╛ рдЪреМрд╡реНрд╣рд╛рдг рдпрд╛рдВрдЪреНрдпрд╛ рдпреБрдирд┐рдЯ: {a_curr} - {a_prev} = {a_units} рдпреБрдирд┐рдЯ")
print(f"рдпреЛрдЧрд┐рддрд╛ рдЪреМрд╡реНрд╣рд╛рдг рдпрд╛рдВрдЪреЗ рдмрд┐рд▓: {a_units} ├Ч тВ╣{unit_value} = тВ╣{a_amount}\n")

# ---- рдкрд╛рдпрд░реА рек: рднрд╛рдбреЗрдХрд░реВ реи - рдЧреАрддрд╛ рдЧреЛрд░реЗ ----
print("рднрд╛рдбреЗрдХрд░реВ реия╕ПтГг - рдЧреАрддрд╛ рдЧреЛрд░реЗ")
b_prev = int(input("рдЬреБрдиреА рд░реАрдбрд┐рдВрдЧ: "))
b_curr = int(input("рдирд╡реАрди рд░реАрдбрд┐рдВрдЧ: "))
b_units = b_curr - b_prev
b_amount = b_units * unit_value
print(f"рдЧреАрддрд╛ рдЧреЛрд░реЗ рдпрд╛рдВрдЪреНрдпрд╛ рдпреБрдирд┐рдЯ: {b_curr} - {b_prev} = {b_units} рдпреБрдирд┐рдЯ")
print(f"рдЧреАрддрд╛ рдЧреЛрд░реЗ рдпрд╛рдВрдЪреЗ рдмрд┐рд▓: {b_units} ├Ч тВ╣{unit_value} = тВ╣{b_amount}\n")

# ---- рдкрд╛рдпрд░реА рел: рднрд╛рдбреЗрдХрд░реВ рей - рдХреГрд╖реНрдгрд╛ (рдЙрд░рд▓реЗрд▓реА рдпреБрдирд┐рдЯ) ----
print("рднрд╛рдбреЗрдХрд░реВ рейя╕ПтГг - рдХреГрд╖реНрдгрд╛ (рдЙрд░рд▓реЗрд▓реА рдпреБрдирд┐рдЯ)")
c_units = main_units - (a_units + b_units)
if c_units < 0:
    print("тЪая╕П рддреНрд░реБрдЯреА: рд░реАрдбрд┐рдВрдЧрдордзреНрдпреЗ рдХрд╛рд╣реАрддрд░реА рдЪреВрдХ рдЖрд╣реЗ. рдХреГрдкрдпрд╛ рдкреБрдиреНрд╣рд╛ рддрдкрд╛рд╕рд╛.")
    exit()
c_amount = c_units * unit_value
print(f"рдХреГрд╖реНрдгрд╛ рдпрд╛рдВрдЪреНрдпрд╛ рдпреБрдирд┐рдЯ: {main_units} - ({a_units} + {b_units}) = {c_units} рдпреБрдирд┐рдЯ")
print(f"рдХреГрд╖реНрдгрд╛ рдпрд╛рдВрдЪреЗ рдмрд┐рд▓: {c_units} ├Ч тВ╣{unit_value} = тВ╣{c_amount}\n")

# ---- рдкрд╛рдпрд░реА рем: рдПрдХреВрдг рд╕рд╛рд░рд╛рдВрд╢ ----
print("--------------------------------------------------")
print("ЁЯТ░ рдЕрдВрддрд┐рдо рдмрд┐рд▓ рд╕рд╛рд░рд╛рдВрд╢:")
print(f"рдпреЛрдЧрд┐рддрд╛ рдЪреМрд╡реНрд╣рд╛рдг: тВ╣{a_amount}")
print(f"рдЧреАрддрд╛ рдЧреЛрд░реЗ: тВ╣{b_amount}")
print(f"рдХреГрд╖реНрдгрд╛: тВ╣{c_amount}")

total_sum = a_amount + b_amount + c_amount
diff = total_bill - total_sum
print(f"\nрдПрдХреВрдг рдорд┐рд│реВрди: тВ╣{total_sum}")
if diff == 0:
    print("тЬЕ рд╕рд░реНрд╡ рдареАрдХ рдЖрд╣реЗ тАФ рдХреБрдард▓рд╛рд╣реА рдлрд░рдХ рдирд╛рд╣реА.")
else:
    print(f"тЪая╕П рд╕реВрдЪрдирд╛: рдПрдХреВрдг рдмрд┐рд▓рд╛рддреВрди тВ╣{diff} рдЪрд╛ рдлрд░рдХ рдЖрд╣реЗ (rounding рдореБрд│реЗ).")

# ---- рдкрд╛рдпрд░реА рен: рдирд┐рдХрд╛рд▓ CSV рдлрд╛рдИрд▓рдордзреНрдпреЗ рдЬрддрди рдХрд░рд╛ ----
with open('parinam_rounded_final_marathi.csv', 'w', newline='', encoding='utf-8') as file:
    writer = csv.writer(file)
    writer.writerow(["рднрд╛рдбреЗрдХрд░реВ рдирд╛рд╡", "рд╡рд╛рдкрд░рд▓реЗрд▓реНрдпрд╛ рдпреБрдирд┐рдЯ", "рдкреНрд░рддреА рдпреБрдирд┐рдЯ тВ╣", "рдПрдХреВрдг рдмрд┐рд▓ тВ╣"])
    writer.writerow(["рдпреЛрдЧрд┐рддрд╛ рдЪреМрд╡реНрд╣рд╛рдг", a_units, unit_value, a_amount])
    writer.writerow(["рдЧреАрддрд╛ рдЧреЛрд░реЗ", b_units, unit_value, b_amount])
    writer.writerow(["рдХреГрд╖реНрдгрд╛", c_units, unit_value, c_amount])
    writer.writerow(["рдПрдХреВрдг", a_units + b_units + c_units, "", total_sum])

print("\nЁЯУБ рдкрд░рд┐рдгрд╛рдо 'parinam_rounded_final_marathi.csv' рдирд╛рд╡рд╛рдиреЗ рдЬрддрди рдХреЗрд▓рд╛ рдЖрд╣реЗ.")
print("--------------------------------------------------")

